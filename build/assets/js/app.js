var questions=[{question:"Your First Name"},{question:"Your Last Name"},{question:"Your Email",pattern:/\S+@\S+\.\S+/},{question:"Create A Password",type:"password"}],shakeTime=100,switchTime=200,position=0,formBox=document.querySelector("#form-box"),nextBtn=document.querySelector("#next-btn"),prevBtn=document.querySelector("#prev-btn"),inputGroup=document.querySelector("#input-group"),inputField=document.querySelector("#input-field"),inputLabel=document.querySelector("#input-label"),inputProgress=document.querySelector("#input-progress"),progress=document.querySelector("#progress-bar");function getQuestion(){inputLabel.innerHTML=questions[position].question,inputField.type=questions[position].type||"text",inputField.value=questions[position].answer||"",inputField.focus(),progress.style.width=100*position/questions.length+"%",prevBtn.className=position?"fas fa-arrow-left":"fas fa-user",showQuestion()}function showQuestion(){inputGroup.style.opacity=1,inputProgress.style.transition="",inputProgress.style.width="100%"}function hideQuestion(){inputGroup.style.opacity=0,inputLabel.style.marginLeft=0,inputProgress.style.width=0,inputProgress.style.transition="none",inputGroup.style.border=null}function transform(e,t){console.log("x:"+e,"y:"+t),formBox.style.transform="translate("+e+"px,"+t+"px)"}function validate(){inputField.value.match(questions[position].pattern||/.+/)?inputPass():inputFail()}function inputFail(){formBox.className="error";for(var e=0;e<6;e++)setTimeout(transform,shakeTime*e,20*(e%2*2-1),0),5==e&&setTimeout(transform,6*shakeTime,0,0),inputField.focus()}function inputPass(){formBox.className="",setTimeout(transform,0*shakeTime,0,10),setTimeout(transform,1*shakeTime,0,0),questions[position].answer=inputField.value,questions[++position]?(hideQuestion(),getQuestion()):(hideQuestion(),formBox.className="close",progress.style.width="100%",formComplete())}function formComplete(){console.log(questions);var e=document.createElement("h1");e.classList.add("end"),e.appendChild(document.createTextNode("Thanks "+questions[0].answer+", you are now registered.")),setTimeout(function(){formBox.parentElement.appendChild(e),setTimeout(function(){e.style.opacity=1},50)},1e3)}document.addEventListener("DOMContentLoaded",getQuestion),inputField.addEventListener("keyup",function(e){13==e.keyCode&&validate()}),nextBtn.addEventListener("click",validate);